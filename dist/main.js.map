{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/sphere.js","webpack:///./src/js/panel.js","webpack:///./src/shared/colors.js","webpack:///./src/js/key.js","webpack:///./src/js/inputs.js","webpack:///./src/js/controls.js","webpack:///./src/js/hitZone.js","webpack:///./src/js/visualizer.js","webpack:///./src/js/audio.js","webpack:///./src/js/game.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Sphere","constructor","this","size","colorTicker","geometry","THREE","SphereGeometry","material","MeshBasicMaterial","vertexColors","FaceColors","sphereShape","Mesh","dynamic","numSides","faces","length","vertIndex","color","Color","rRandom","Math","random","gRandom","bRandom","setRGB","elementsNeedUpdate","position","y","colorSwitch","maxFreq","Panel","scene","floor","Geometry","floorMat","LineBasicMaterial","vertices","push","Vector3","line","Line","LineSegments","add","keyColors","red","blue","yellow","green","Key","startPos","setHex","set","moveForward","keyspeed","z","colors","PlayerInput","that","key1","key2","key3","key4","document","addEventListener","e","which","preventDefault","Controls","loader","FontLoader","titleCreate","load","font","title","TextGeometry","height","curveSegments","materials","MeshPhongMaterial","flatShading","titleRender","x","light","DirectionalLight","window","zoomIn","HitZone","CylinderGeometry","cylinderShape","setTimeout","Visualizer","canvas","score","playerInput","Scene","container","getElementsByClassName","setCamera","renderer","WebGLRenderer","setSize","clientWidth","clientHeight","animate","introAnimate","id","openingElements","onWindowResize","startRound","controls","inGameElements","sphere","hitZone1","hitZone2","hitZone3","hitZone4","camera","aspect","width","updateProjectionMatrix","render","requestAnimationFrame","set2Ave","set3Ave","set4Ave","music","fetchNewFrequencies","moveKeys","speedUp","keyCheck","rotation","currentSong","currentTime","musicDuration","restartRound","Game","scoreUpdate","classList","remove","children","some","child","toString","curTime","parseFloat","mediaElement","toFixed","musicMarkers","shift","clearExistingKeys","pause","stopAnimation","PerspectiveCamera","cancelAnimationFrame","duration","musicTimeDiv","renderFrame","AudioSynth","songUrl","listener","AudioListener","audio","Audio","autoplay","setMediaElementSource","analyser","AudioAnalyser","getFrequencyData","needsUpdate","set1","data","slice","set2","set3","set4","reduce","a","b","getElementById","stopButton","innerText","visualInit","createSongList","gamePaused","curSongUrl","pauseGame","setMenuEvents","togglePause","playRound","jumpToMainMenu","pauseMenu","play","visualizer","toggle","restartCurrentSong","songSelection","songList","forEach","listItem","createElement","append","onclick","resumeButton","restartButton","quitButton"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","class Sphere {\n  constructor(){\n    this.size = 3;\n    this.colorTicker = 0;\n    this.geometry = new THREE.SphereGeometry(this.size, 20, 20);\n    this.material = new THREE.MeshBasicMaterial({\n      vertexColors: THREE.FaceColors\n    });\n    this.sphereShape = new THREE.Mesh(this.geometry, this.material);\n    this.sphereShape.dynamic = true;\n      let numSides = this.geometry.faces.length;\n      for (let i = 0; i < numSides; i++) {\n        let vertIndex = this.geometry.faces[i];\n        var color = new THREE.Color(0xffffff);\n        let rRandom = Math.random() * (1 - 0.64) + 0.64;\n        let gRandom = Math.random() * (1 - 0.64) + 0.64;\n        let bRandom = Math.random() * (1 - 0.64) + 0.64;\n        // console.log([rRandom, gRandom, bRandom]);\n        color.setRGB(rRandom, gRandom, bRandom);\n        vertIndex.color = color;\n      }\n      this.geometry.elementsNeedUpdate = true;\n    this.sphereShape.position.y = 2.5;\n  }\n\n  colorSwitch(maxFreq){\n\n    \n      if(maxFreq === 255){\n        let numSides = this.geometry.faces.length;\n        for (let i = 0; i < numSides; i++) {\n          let vertIndex = this.geometry.faces[i];\n          var color = new THREE.Color(0xffffff);\n          let rRandom = Math.random() * (1 - 0.64) + 0.64;\n          let gRandom = Math.random() * (1 - 0.64) + 0.64;\n          let bRandom = Math.random() * (1 - 0.64) + 0.64;\n          // console.log([rRandom,gRandom,bRandom])\n          color.setRGB(rRandom, gRandom, bRandom);\n          vertIndex.color = color;\n        }\n        \n      }\n      this.geometry.elementsNeedUpdate = true;\n  }\n}\n\nexport default Sphere;","class Panel {\n  constructor(scene){\n    let size = 15,\n      step = 1;\n    let floor = new THREE.Geometry();\n    let floorMat = new THREE.LineBasicMaterial({ color: \"white\" });\n\n    for (let i = -size; i <= size; i += step) {\n      floor.vertices.push(new THREE.Vector3(-size, -0.04, i));\n      floor.vertices.push(new THREE.Vector3(size, -0.04, i));\n\n      floor.vertices.push(new THREE.Vector3(i, -0.04, -size));\n      floor.vertices.push(new THREE.Vector3(i, -0.04, size));\n    }\n\n    this.line = new THREE.Line(floor, floorMat, THREE.LineSegments);\n    scene.add(this.line)\n  }\n}\n\nexport default Panel;","export const keyColors = {\n    red: \"0xFF0000\",\n    blue: \"0x0000FF\",\n    yellow: \"0xFFFF00\",\n    green: \"0x00FF00\"\n}","import { keyColors } from \"../shared/colors\";\nclass Key {\n  constructor(scene, startPos,color,name){\n    this.color = keyColors[color]\n    this.geometry = new THREE.SphereGeometry(0.5, 7, 10);\n    this.material = new THREE.MeshBasicMaterial();\n    this.sphereShape = new THREE.Mesh(this.geometry, this.material);\n    this.sphereShape.material.color.setHex(this.color)\n    this.sphereShape.name = name;\n    this.sphereShape.position.set(startPos,0.5,4);\n\n    this.moveForward = this.moveForward.bind(this);\n  }\n\n  moveForward(keyspeed){\n    if(this.sphereShape.position.z > 8){\n      this.sphereShape.position.z = 4;\n    }else{\n      this.sphereShape.position.z += keyspeed;\n    }\n  }\n\n  colorSwitch(){\n    if (\n      this.sphereShape.position.z >= 7\n    ) {\n      this.sphereShape.material.color.setHex(\"0x00FFFF\")\n    }else{\n      this.sphereShape.material.color.setHex(this.colors[this.color]);\n    }\n  }\n\n\n}\n\nexport default Key;","function PlayerInput(){\n  let that = this;\n\n  that.key1 = [false, 0];\n  that.key2 = [false, 0];\n  that.key3 = [false, 0];\n  that.key4 = [false, 0];\n\n  document.addEventListener(\"keydown\", e => {\n    if(e.key === \"d\") {\n      that.key1[0] = true;\n      that.key1[1] += 1;\n    }\n\n    if (e.key === \"f\") {\n      that.key2[0] = true;\n      that.key2[1] += 1;\n    }\n\n    if (e.key === \"j\") {\n      that.key3[0] = true;\n      that.key3[1] += 1;\n    }\n\n    if (e.key === \"k\") {\n      that.key4[0] = true;\n      that.key4[1] += 1;\n    }\n\n    if(e.which === 32){\n      e.preventDefault();\n    }\n  })\n\n\n  document.addEventListener(\"keyup\", e => {\n    if (e.key === \"d\") that.key1 = [false,0];\n    if (e.key === \"f\") that.key2 = [false, 0];\n    if (e.key === \"j\") that.key3 = [false, 0];\n    if (e.key === \"k\") that.key4 = [false, 0];\n  });\n\n\n  \n}\n\nexport default PlayerInput;","class Controls {\n  constructor(scene){\n    let loader = new THREE.FontLoader(); \n    this.scene = scene;\n    this.titleCreate = this.titleCreate.bind(this);\n    \n    let title = loader.load(\"assets/Dream MMA_Regular.typeface.json\", (font) => {\n      this.titleCreate(font);\n    });\n    \n  }\n\n  titleCreate(font){\n    let title = new THREE.TextGeometry(\"vibe\", {\n      font: font,\n      size: 1,\n      height: 1,\n      curveSegments: 3\n    });\n\n    let materials = [\n      new THREE.MeshPhongMaterial({ color: 0x2690f7, flatShading: true }), // front\n      new THREE.MeshPhongMaterial({ color: 0x064d92 }) // side\n    ];\n\n    this.titleRender = new THREE.Mesh(title, materials);\n    this.titleRender.name = \"title\";\n\n    this.titleRender.position.z = -4;\n    this.titleRender.position.x = -2.25;\n    this.titleRender.position.y = 5;\n    // titleRender.rotation.x = 0.5;\n    // titleRender.rotation.y = 0.5;\n    this.scene.add(this.titleRender);\n\n    let light = new THREE.DirectionalLight(0xffffff);\n    light.position.set(2, 3, 2);\n    window.light = light;\n    this.scene.add(light);\n  }\n\n\n  zoomIn(){\n    if(this.titleRender){\n      if(this.titleRender.position.z < 4){\n        this.titleRender.position.z += 0.25;\n      }\n    }\n  }\n}\n\nexport default Controls;","import { keyColors } from \"../shared/colors\";\nclass HitZone {\n\tconstructor(scene,startPos,color,name){\n\t\tthis.color = keyColors[color]\n\t\tthis.geometry = new THREE.CylinderGeometry(0.5, 0.5, 0.25, 32);\n\t\tthis.material = new THREE.MeshBasicMaterial();\n\t\tthis.cylinderShape = new THREE.Mesh(this.geometry, this.material);\n\t\tthis.cylinderShape.material.color.setHex(this.color)\n\t\tthis.cylinderShape.name = name;\n\t\tthis.cylinderShape.position.set(startPos, 0, 7.4)\n\n\t\tscene.add(this.cylinderShape)\n\t}\n\n\tcolorSwitch(){\n\t\tthis.cylinderShape.material.color.setHex(\"0x00FFFF\")\n\t\tsetTimeout(\n\t\t\t() => this.cylinderShape.material.color.setHex(this.color),\n\t\t\t250\n\t\t);\n\t}\n}\n\nexport default HitZone;","import Sphere from './sphere';\nimport Game from './game';\nimport Panel from './panel';\nimport Key from './key';\nimport PlayerInput from \"./inputs\";\nimport Controls from './controls';\nimport HitZone from './hitZone';\n\n\nclass Visualizer {\n  constructor(canvas, score) {\n    this.score = score;\n    this.playerInput = new PlayerInput();\n    this.canvas = canvas;\n    this.scene = new THREE.Scene();\n    this.container = document.getElementsByClassName(\"game-container\")[0];\n    this.setCamera();\n    this.renderer = new THREE.WebGLRenderer({ canvas: this.canvas });\n    this.renderer.setSize(\n      this.container.clientWidth,\n      this.container.clientHeight\n    );\n    \n    this.animate = this.animate.bind(this);\n    this.introAnimate = this.introAnimate.bind(this);\n    this.id;\n\n    this.openingElements();\n    this.introAnimate();\n\n    window.addEventListener(\"resize\", () => this.onWindowResize(), false);\n\n    this.startRound = this.startRound.bind(this);\n  }\n\n  openingElements() {\n    this.controls = new Controls(this.scene);\n\n    this.line = new Panel(this.scene);\n  }\n\n  inGameElements() {\n    this.keyspeed = 0.05;\n    this.sphere = new Sphere();\n    this.scene.add(this.sphere.sphereShape);\n\n    this.hitZone1 = new HitZone(this.scene, -1.5, \"red\", \"hitZone1\");\n    this.hitZone2 = new HitZone(this.scene, -0.5, \"green\", \"hitZone2\");\n    this.hitZone3 = new HitZone(this.scene, 0.5, \"blue\", \"hitZone3\");\n    this.hitZone4 = new HitZone(this.scene, 1.5, \"yellow\", \"hitZone4\");\n\n    this.key1 = new Key(this.scene, -1.5, \"red\", \"1\");\n    this.key2 = new Key(this.scene, -0.5, \"green\", \"2\");\n    this.key3 = new Key(this.scene, 0.5, \"blue\", \"3\");\n    this.key4 = new Key(this.scene, 1.5, \"yellow\", \"4\");\n  }\n\n  onWindowResize() {\n    this.renderer.setSize(\n      this.container.clientWidth,\n      this.container.clientHeight\n    );\n\n    this.camera.aspect = this.canvas.width / this.canvas.height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  introAnimate() {\n    this.renderer.render(this.scene, this.camera);\n    this.controls.zoomIn();\n    this.id = window.requestAnimationFrame(this.introAnimate);\n  }\n\n  animate() {\n    let {\n      maxFreq,\n      set2Ave,\n      set3Ave,\n      set4Ave\n    } = this.music.fetchNewFrequencies();\n\n    this.sphere.colorSwitch(maxFreq);\n\n    this.moveKeys(maxFreq, set2Ave, set3Ave, set4Ave);\n\n    this.speedUp();\n\n    this.keyCheck();\n\n    this.renderer.render(this.scene, this.camera);\n    this.sphere.sphereShape.rotation.x += 0.01;\n    this.sphere.sphereShape.rotation.y += 0.01;\n\n    if(this.currentSong.currentTime === this.musicDuration){\n      this.restartRound();\n      Game.scoreUpdate(this.score);\n      let songSelection = document.getElementsByClassName(\n        \"song-selection\"\n      )[0];\n      songSelection.classList.remove(\"hide\");\n      return\n    }\n\n    this.id = window.requestAnimationFrame(this.animate);\n  }\n\n  moveKeys(maxFreq, set2Ave, set3Ave, set4Ave) {\n    for (let i = 1; i < 5; i++) {\n      this.scene.children.some(child => {\n        if (child.name === i.toString()) {\n          if (child.position.z >= 8) {\n            child.position.z = 4;\n            this.scene.remove(child);\n          } else {\n            \n            if (i === 1) this.key1.moveForward(this.keyspeed);\n            if (i === 2) this.key2.moveForward(this.keyspeed);\n            if (i === 3) this.key3.moveForward(this.keyspeed);\n            if (i === 4) this.key4.moveForward(this.keyspeed);\n          }\n        } else {\n          if (maxFreq === 255) {\n            this.scene.add(this.key1.sphereShape);\n          }\n          if (set2Ave > 180) {\n            this.scene.add(this.key2.sphereShape);\n          }\n          if (set3Ave > 150 && set3Ave < 180) {\n            this.scene.add(this.key3.sphereShape);\n          }\n          if (set4Ave > 120 && set4Ave < 180) {\n            this.scene.add(this.key4.sphereShape);\n          }\n        }\n      });\n    }\n  }\n\n  speedUp() {\n    let curTime = parseFloat(this.music.mediaElement.currentTime.toFixed(2));\n\n    if (this.musicMarkers[0] <= curTime) {\n      this.keyspeed += 0.01;\n\n      this.musicMarkers.shift();\n    }\n  }\n\n  keyCheck() {\n    if (\n      this.playerInput.key1[0] === true &&\n      this.key1.sphereShape.position.z >= 7.4 &&\n        this.key1.sphereShape.position.z <= 7.8\n    ) {\n      if (this.playerInput.key1[1] === 1) {\n        this.score += 20;\n        // this.key1.sphereShape.material.color.setHex(\"#00CCCC\")\n        this.hitZone1.colorSwitch();\n        Game.scoreUpdate(this.score);\n        this.key1.sphereShape.position.z = 4;\n        this.scene.remove(this.key1.sphereShape);\n      }\n    }\n\n    if (\n      this.playerInput.key2[0] === true &&\n      this.key2.sphereShape.position.z >= 7.4 &&\n        this.key2.sphereShape.position.z <= 7.8\n    ) {\n      if (this.playerInput.key2[1] === 1) {\n        this.score += 20;\n        // this.key2.sphereShape.material.color.setHex(\"#00CCCC\")\n        this.hitZone2.colorSwitch();\n        Game.scoreUpdate(this.score);\n        this.key2.sphereShape.position.z = 4;\n        this.scene.remove(this.key2.sphereShape);\n      }\n    }\n\n    if (\n      this.playerInput.key3[0] === true &&\n      this.key3.sphereShape.position.z >= 7.4 &&\n        this.key3.sphereShape.position.z <= 7.8\n    ) {\n      if (this.playerInput.key3[1] === 1) {\n        this.score += 20;\n        // this.key3.sphereShape.material.color.setHex(\"#00CCCC\")\n        this.hitZone3.colorSwitch();\n        Game.scoreUpdate(this.score);\n        this.key3.sphereShape.position.z = 4;\n        this.scene.remove(this.key3.sphereShape);\n      }\n    }\n\n    if (\n      this.playerInput.key4[0] === true &&\n      this.key4.sphereShape.position.z >= 7.4 &&\n        this.key4.sphereShape.position.z <= 7.8\n    ) {\n      if (this.playerInput.key4[1] === 1) {\n        this.score += 20;\n        // this.key4.sphereShape.material.color.setHex(\"#00CCCC\")\n        this.hitZone4.colorSwitch();\n        Game.scoreUpdate(this.score);\n        this.key4.sphereShape.position.z = 4;\n        this.scene.remove(this.key4.sphereShape);\n      }\n    }\n  }\n\n  clearExistingKeys() {\n    \n    this.scene.remove(this.key1.sphereShape);\n    this.scene.remove(this.key2.sphereShape);\n    this.scene.remove(this.key3.sphereShape);\n    this.scene.remove(this.key4.sphereShape);\n    \n  }\n\n  restartRound() {\n    this.clearExistingKeys();\n    this.score = 0;\n    this.currentSong.pause();\n    this.currentSong.currentTime = 0;\n    this.scene.remove(this.sphere.sphereShape);\n    this.stopAnimation();\n  }\n\n  setCamera() {\n    this.camera = new THREE.PerspectiveCamera(\n      90,\n      this.canvas.width / this.canvas.height,\n      0.1,\n      1000\n    );\n    this.camera.position.z = 10; //return to 10\n    this.camera.position.y = 2; // return to 2\n  }\n\n  stopAnimation() {\n    window.cancelAnimationFrame(this.id);\n  }\n\n  startRound() {\n    this.musicDuration = this.currentSong.duration;\n    let musicTimeDiv = parseFloat((this.musicDuration / 4).toFixed(2));\n    this.musicMarkers = [musicTimeDiv, musicTimeDiv * 2, musicTimeDiv * 3];\n    this.inGameElements();\n    this.animate();\n  }\n\n  renderFrame(music) {\n    \n    this.music = music;\n    this.currentSong = this.music.mediaElement\n    this.currentSong.addEventListener(\"loadedmetadata\", e => {\n      this.startRound();\n    });\n  }\n}\n\nexport default Visualizer;","class AudioSynth {\n  constructor(songUrl){\n    this.listener = new THREE.AudioListener();\n\n\n    \n\n\n  \n    this.audio = new THREE.Audio(this.listener);\n    window.audio = this.audio;\n    this.mediaElement = new Audio(\n      `assets/${songUrl}`\n    );\n    \n    this.mediaElement.autoplay = false;\n\n    // this.mediaElement.hasPlaybackControl = true;\n    // this.mediaElement.play();\n    \n    \n    // this.bass = this.audio.context.createBiquadFilter();\n    // this.bass.type = \"lowshelf\";\n    // this.bass.frequency.value = 1000; // switches to 400 in UI\n    // this.bass.gain.value = -0.5;\n    // this.audio.setFilter(this.bass);\n    // // this.bass.connect(this.audio.context.destination);\n    // window.bass = this.bass;\n    this.audio.setMediaElementSource(this.mediaElement);\n    this.analyser = new THREE.AudioAnalyser(this.audio, 1024);\n    window.analyser = this.analyser;\n  }\n\n  fetchNewFrequencies(){\n    \n    this.analyser.getFrequencyData();\n    this.analyser.needsUpdate = true;\n\n    let set1 = this.analyser.data.slice(0, 16);\n    let set2 = this.analyser.data.slice(16, 32);\n    let set3 = this.analyser.data.slice(32, 48);\n    let set4 = this.analyser.data.slice(48, 62);\n\n    let set2Sum = set2.reduce((a, b) => a + b, 0);\n    let set2Ave = set2Sum / set2.length;\n\n    let set3Sum = set3.reduce((a, b) => a + b, 0);\n    let set3Ave = set3Sum / set3.length;\n\n    let set4Sum = set4.reduce((a, b) => a + b, 0);\n    let set4Ave = set4Sum / set4.length;\n    let maxFreq = set1[2];\n\n    return {maxFreq,set2Ave,set3Ave,set4Ave};\n  }\n}\n\nexport default AudioSynth;","import Visualizer from './visualizer';\nimport AudioSynth from \"./audio\";\n\nclass Game {\n  constructor() {\n    this.canvas = document.getElementById(\"canvas\");\n\n    this.stopButton = document.getElementById(\"stop-button\");\n    this.audio = document.getElementById(\"audio\");\n    this.score = 0;\n    let scoreCard = document.getElementById(\"score-value\");\n\n    scoreCard.innerText = this.score;\n    this.visualInit();\n    this.createSongList();\n    this.gamePaused = true;\n    this.curSongUrl = null;\n\n    this.pauseGame();\n    this.setMenuEvents();\n    this.togglePause = this.togglePause.bind(this);\n    this.playRound = this.playRound.bind(this);\n    this.jumpToMainMenu = this.jumpToMainMenu.bind(this);\n  }\n\n  pauseGame() {\n    this.pauseMenu = document.getElementById(\"pause-menu\");\n    document.addEventListener(\"keydown\", e => {\n      if (e.which === 32) {\n        this.togglePause();\n      }\n    });\n  }\n\n  togglePause() {\n    if (!this.gamePaused) {\n      this.currentSong.pause();\n      this.visualizer.stopAnimation();\n      this.pauseMenu.classList.toggle(\"hide-menu\");\n      this.gamePaused = true;\n    } else if (this.gamePaused) {\n      this.currentSong.play();\n      this.visualizer.animate();\n      this.pauseMenu.classList.toggle(\"hide-menu\");\n      this.gamePaused = false;\n    }\n  }\n\n  restartCurrentSong() {\n    this.togglePause();\n    this.visualizer.restartRound();\n    this.score = 0;\n    this.gamePaused = true;\n    Game.scoreUpdate(this.score);\n    this.playRound(this.curSongUrl);\n  }\n\n  jumpToMainMenu(){\n    this.togglePause();\n    this.visualizer.restartRound();\n    let songSelection = document.getElementsByClassName(\n      \"song-selection\"\n    )[0];\n    this.score = 0;\n    this.gamePaused = true;\n    Game.scoreUpdate(this.score);\n    songSelection.classList.remove(\"hide\");\n  }\n\n  createSongList() {\n    let songList = document.getElementById(\"song-list\");\n    let audioList = [\n      \"Dont Wanna Know\",\n      \"Feel So Close\",\n      \"Finesse\",\n      \"Starboy\"\n    ];\n    audioList.forEach(songUrl => {\n      let listItem = document.createElement(\"li\");\n      listItem.append(songUrl);\n      listItem.onclick = () => {\n        this.curSongUrl = songUrl;\n        this.playRound(songUrl)};\n      songList.append(listItem);\n    });\n  }\n\n  setMenuEvents() {\n    let resumeButton = document.getElementById(\"resume\");\n    let restartButton = document.getElementById(\"restart\");\n    let quitButton = document.getElementById(\"quit\");\n    resumeButton.addEventListener(\"click\", () => {\n      this.togglePause();\n    });\n    restartButton.addEventListener(\"click\", () => {\n      this.restartCurrentSong();\n    });\n    quitButton.addEventListener(\"click\", () => {\n      this.jumpToMainMenu();\n    })\n  }\n\n  static scoreUpdate(score) {\n    let scoreCard = document.getElementById(\"score-value\");\n    scoreCard.innerText = score;\n    // console.log(this.score)\n  }\n\n  visualInit() {\n    this.visualizer = new Visualizer(this.canvas, this.score);\n  }\n\n  playRound(songUrl) {\n    if(this.gamePaused === true){\n      this.gamePaused = false;\n      this.music = new AudioSynth(songUrl + \".mp3\");\n      let songSelection = document.getElementsByClassName(\"song-selection\")[0];\n      songSelection.classList.add(\"hide\");\n  \n      this.currentSong = this.music.mediaElement;\n      this.currentSong.play();\n      this.visualizer.renderFrame(this.music);\n    }\n  }\n}\n\nexport default Game;","import Game from '../src/js/game.js';\nimport './styles/index.css'\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n\n    const game = new Game();\n\n    // this.playButton = document.getElementsByClassName(\"play-button\");\n});\n\n\n"],"sourceRoot":""}